<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood & Organ Donation System</title>
    <link rel="stylesheet" href="donation.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ’‰ Blood & Organ Donation</h1>
            <p>Save lives by donating or requesting blood and organs</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('requests')">ðŸ“‹ Post Request</button>
            <button class="tab-btn" onclick="switchTab('donors')">ðŸ©¸ Become a Donor</button>
            <button class="tab-btn" onclick="switchTab('view-requests')">View Requests</button>
            <button class="tab-btn" onclick="switchTab('view-donors')">View Donors</button>
        </div>

        <!-- Post Request Tab -->
        <div id="requests" class="tab-content active">
            <div class="card">
                <h2>Post a Blood/Organ Request</h2>
                <div class="success-message" id="requestSuccess">âœ“ Request posted successfully!</div>
                <form id="requestForm" onsubmit="postRequest(event)">
                    <div class="form-group">
                        <label for="patientName">Patient Name</label>
                        <input type="text" id="patientName" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="requestType">Request Type</label>
                            <select id="requestType" required onchange="updateTypes()">
                                <option value="">Select Type</option>
                                <option value="blood">Blood</option>
                                <option value="organ">Organ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="specific">Specific Type/Blood Group</label>
                            <input type="text" id="specific" placeholder="e.g., O+, Heart, Kidney" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="requestUrgency">Urgency Level</label>
                            <select id="requestUrgency" required>
                                <option value="normal">Normal</option>
                                <option value="urgent">Urgent</option>
                                <option value="critical">Critical</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="requiredDate">Required By (Date)</label>
                            <input type="date" id="requiredDate" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="requestDetails">Details & Medical Info</label>
                        <textarea id="requestDetails" placeholder="Provide medical history and specific requirements..." required></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="contactPerson">Contact Person Name</label>
                            <input type="text" id="contactPerson" required>
                        </div>
                        <div class="form-group">
                            <label for="contactPhone">Contact Phone</label>
                            <input type="tel" id="contactPhone" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="requestLocation">Hospital/Location</label>
                        <input type="text" id="requestLocation" placeholder="Hospital name and address" required>
                    </div>

                    <button type="submit" class="btn btn-primary">Post Request</button>
                </form>
            </div>
        </div>

        <!-- Become Donor Tab -->
        <div id="donors" class="tab-content">
            <div class="card">
                <h2>Register as a Donor</h2>
                <div class="success-message" id="donorSuccess">âœ“ Thank you for registering as a donor!</div>
                <form id="donorForm" onsubmit="registerDonor(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="donorName">Full Name</label>
                            <input type="text" id="donorName" required>
                        </div>
                        <div class="form-group">
                            <label for="donorEmail">Email</label>
                            <input type="email" id="donorEmail" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="donorPhone">Phone Number</label>
                            <input type="tel" id="donorPhone" required>
                        </div>
                        <div class="form-group">
                            <label for="donorDOB">Date of Birth</label>
                            <input type="date" id="donorDOB" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="donorBloodGroup">Blood Group</label>
                            <select id="donorBloodGroup" required>
                                <option value="">Select Blood Group</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="donationType">Donation Type</label>
                            <select id="donationType" required>
                                <option value="">Select Type</option>
                                <option value="blood">Blood</option>
                                <option value="organ">Organ</option>
                                <option value="both">Both</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="organType">If Organ, Specify Type (Optional)</label>
                        <input type="text" id="organType" placeholder="e.g., Heart, Kidney, Liver">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="donorLocation">Location/City</label>
                            <input type="text" id="donorLocation" required>
                        </div>
                        <div class="form-group">
                            <label for="donorAvailability">Availability</label>
                            <select id="donorAvailability" required>
                                <option value="always">Always Available</option>
                                <option value="emergency">Emergency Only</option>
                                <option value="scheduled">Scheduled Only</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="medicalInfo">Medical Information</label>
                        <textarea id="medicalInfo" placeholder="Any allergies, medical conditions, medications..."></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary">Register as Donor</button>
                </form>
            </div>
        </div>

        <!-- View Requests Tab -->
        <div id="view-requests" class="tab-content">
            <div class="card">
                <h2>Blood/Organ Requests</h2>
                <div class="filters">
                    <div class="filter-group">
                        <label for="filterRequestType">Type:</label>
                        <select id="filterRequestType" onchange="filterRequests()">
                            <option value="">All Types</option>
                            <option value="blood">Blood</option>
                            <option value="organ">Organ</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filterUrgency">Urgency:</label>
                        <select id="filterUrgency" onchange="filterRequests()">
                            <option value="">All Urgencies</option>
                            <option value="normal">Normal</option>
                            <option value="urgent">Urgent</option>
                            <option value="critical">Critical</option>
                        </select>
                    </div>
                </div>
                <div id="requestsContainer" class="requests-list"></div>
            </div>
        </div>

        <!-- View Donors Tab -->
        <div id="view-donors" class="tab-content">
            <div class="card">
                <h2>Available Donors</h2>
                <div class="filters">
                    <div class="filter-group">
                        <label for="filterDonorType">Donation Type:</label>
                        <select id="filterDonorType" onchange="filterDonors()">
                            <option value="">All Types</option>
                            <option value="blood">Blood</option>
                            <option value="organ">Organ</option>
                            <option value="both">Both</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filterBloodGroup">Blood Group:</label>
                        <select id="filterBloodGroup" onchange="filterDonors()">
                            <option value="">All Groups</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                        </select>
                    </div>
                </div>
                <div id="donorsContainer" class="donors-list"></div>
            </div>
        </div>
    </div>

    <div id="assignModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <div class="modal-header">Assign Yourself as Donor</div>
            <div id="modalBody"></div>
            <button class="btn btn-assign" onclick="confirmAssignment()">Confirm Assignment</button>
            <button class="btn btn-secondary" onclick="closeModal()">Cancel</button>
        </div>
    </div>

    <script src="donation.js"></script>
</body>
</html>
